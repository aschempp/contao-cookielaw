window.cookielaw=window.cookielaw||{};window.cookielaw.onPermission=(function(){var c=[];var d=Cookie.read(("legalcookie-"+window.location.hostname));var a=function(){if(d===true){for(var f=0;f<c.length;f++){try{c[f]()}catch(g){}}c=[]}};var b=function(){if(d===null){d=false;if(window.cookielaw.blockedUrls&&window.cookielaw.blockedUrls.indexOf){if(window.cookielaw.blockedUrls.indexOf(window.location.href)>-1){return}}Cookie.write("can_use_cookies",true);var f=!!Cookie.read("can_use_cookies");Cookie.dispose("can_use_cookies");if(f){new Element("link",{rel:"stylesheet",media:"screen",type:"text/css",href:"system/modules/cookielaw/assets/cookielaw.css"}).inject(document.head);var g=new Element("div",{id:"cookielawOverlay"});var e=new Element("div",{id:"cookielawPopup",html:window.cookielaw.messageBody});e.adopt(new Element("a",{"class":"decline",href:"#",text:window.cookielaw.declineButton,styles:{}}).addEvent("click",function(){Cookie.write(("legalcookie-"+window.location.hostname),false);g.destroy();e.destroy();return false}),new Element("a",{"class":"accept",href:"#",text:window.cookielaw.acceptButton,styles:{}}).addEvent("click",function(){d=true;Cookie.write(("legalcookie-"+window.location.hostname),true);g.destroy();e.destroy();a();if(window.cookielaw.confirmUrl){new Request({url:window.cookielaw.confirmUrl,method:"post",data:("site="+window.location.href)}).send()}return false}));document.id(document.body).adopt(g,e);e.setStyles({top:((window.getSize().y/2)-(e.getSize().y/2)-100),left:(window.getSize().x/2-150)})}}};return function(e){c.push(e);a();b()}})();